<main class="auth-page">
  <section class="auth-card">
    <!-- H1 using same value as title -->
    <h1 class="auth-title"><%- title %></h1>

    <%- messages() %>
    <% if (errors) { %>
      <ul class="notice">
        <% errors.array().forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>

    ACCOUNT DETAILS UPDATE
    <form
      action="/account/update/<%= accountData.account_id %>"
      method="post"
      class="auth-form"
    >
      <div class="auth-field">
        <label for="account_firstname">First Name</label>
        <input
          type="text"
          id="account_firstname"
          name="account_firstname"
          required
          value="<%= locals.account_firstname || accountData.account_firstname %>"
        />
      </div>

      <div class="auth-field">
        <label for="account_lastname">Last Name</label>
        <input
          type="text"
          id="account_lastname"
          name="account_lastname"
          required
          value="<%= locals.account_lastname || accountData.account_lastname %>"
        />
      </div>

      <div class="auth-field">
        <label for="account_email">Email Address</label>
        <input
          type="email"
          id="account_email"
          name="account_email"
          placeholder="Enter a valid email address"
          required
          value="<%= locals.account_email || accountData.account_email %>"
        />
      </div>

      <!-- hidden account_id -->
      <input type="hidden" name="account_id" value="<%= accountData.account_id %>" />

      <button type="submit" class="auth-button-left">
        Update Account
      </button>
    </form>

    <!-- CHANGE PASSWORD -->
    <form
      action="/account/update/<%= accountData.account_id %>"
      method="post"
      class="auth-form"
    >
      <p>
        Entering a new password below will change your current password.
        Please make sure it meets the requirements.
      </p>

      <div class="auth-field">
        <label for="account_password">New Password</label>
        <input
          type="password"
          id="account_password"
          name="account_password"
          required
          minlength="12"
          pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
        />
        <ul class="password-requirements">
          <li>Minimum 12 characters</li>
          <li>At least 1 capital letter</li>
          <li>At least 1 number</li>
          <li>At least 1 special character</li>
        </ul>
      </div>

      <!-- hidden account_id -->
      <input type="hidden" name="account_id" value="<%= accountData.account_id %>" />

      <button type="submit" class="auth-button-left">
        Change Password
      </button>
    </form>
  </section>
</main>
